<ion-header>
  <ion-toolbar *ngIf="searching">
    <ion-searchbar autofocus class="search-bar" [showCancelButton]="true"
    (ionInput)="updateSubscription($event.target.value); searching=true; "
    (ionClear)="updateSubscription(undefined); searching=false; ">
  </ion-searchbar>
  </ion-toolbar >
  <ion-toolbar *ngIf="!searching">
    <ion-title>新建聊天</ion-title>
    <ion-buttons left>
      <button ion-button class="dismiss-button" (click)="viewCtrl.dismiss()"></button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button class="search-button" (click)="searching = true">
        <ion-icon name="search">
        </ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="new-chat">
<ion-list class="users">
  <button ion-item *ngFor="let user of users | async" class="user" (click)="addChat(user)">
    <img class="user-picture" [src]="user.picture">
    <h2 class="user-name">{{user.nickname}}</h2>
  </button>
</ion-list>
</ion-content>
